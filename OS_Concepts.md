

> 中断

中断的作用就是将CPU的使用权从用户程序切换到内核程序，这也对应了CPU的状态从用户态变为内核态。

* 中断的表现形式？
* 中断由谁产生？
* 中断由谁接收？
* 中断过程？



> 内中断（也称异常）

中断信号来自CPU内部，与正在执行的指令有关

* 指令本身非法（abort），例如：用户程序中存在内核指令（特权指令）
* 指令参数非法（abort），例如：除数为0
* 陷入指令（trap），有时需要请求内核程序提供服务，主动将CPU使用权还给内核程序。例如：系统调用就是由陷入指令来实现的。陷入指令是特殊指令，但不是特权指令

> 外中断

中断信号来自CPU外部，与正在执行的指令无关

* 时钟中断：由CPU外部的时钟部件每隔一段时间发送给CPU的信号，来实现多道程序并发运行，时间片轮转的原理。
* IO设备中断：打印机、鼠标、键盘



注意：CPU执行完每个指令周期后，都会检查是否有外部中断信号需要处理；二内部中断是每条指令都会被CPU检查。





> 中断运行机制

不同中断，需要不同的中断处理程序。CPU 检测到中断后，会根据中断类型查询“中断向量表”来找到对应中断处理程序（内核程序）在内存中的存放位置。